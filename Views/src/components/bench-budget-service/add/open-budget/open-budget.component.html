<div fxLayout="column" class="border-around" [formGroup]="formMain">
    <div fxLayout="row" fxLayoutAlign="center center" *ngIf="this.formMain.controls['customerId'].touched">
        <mat-error>
            <span>{{validatorMessages.required(formMain,'customerId', 'Cliente ')}}</span>
        </mat-error>
    </div>
    <div fxLayout="row" fxFlex fxLayoutAlign="center center">
        <!-- Grid Customers -->
        <grid-g-container (window:resize)="screen()" (queryField)="this.customerGridGHelper.searchQueryHendler($event,this.customerBackEndUrl)" (queryField)="getLengthCustomer($event)" [titlesHeader]="titlesHeaderCustomer" [styleGridContainerHeader]="styleGridContainerHeader"
            [styleGridMatCardHeader]="styleGridMatCardHeader" [styleGridContainerItem]="styleGridContainerItem" [fieldsInEnglish]="fieldsInEnglish" [entities$]="this.customerGridGHelper.entities$" [searchInputFxFlexSize]="searchInputFxFlexSize" (outSelectedEntity)="outSelectedEntity($event)">
            <mat-paginator style="width:250px;" fxFlex pgNgContent #customerPaginator fxLayout="row" fxLayoutAlign="center center" [length]="lengthCustomer" [pageSize]="pageSize" aria-label="Select page">
            </mat-paginator>
            <div found fxLayoutAlign="center center">
                {{this.customerGridGHelper.searchItensFound.value}}
            </div>
        </grid-g-container>
    </div>
    <div class="middle-space-horizontal-beteween-fields"></div>
    <div fxLayout="row">
        <div fxLayout="column" style="font-weight:bolder; font-size: 22px;">
            {{'INFORMAÇÕES'}}
        </div>
        <div fxLayout="column" fxFlex style=" margin-top:10px;">
            <mat-divider fxFlex></mat-divider>
        </div>
    </div>
    <div class="middle-space-horizontal-beteween-fields"></div>
    <div fxLayout="row" fxFlex>
        <mat-form-field fxFlex appearance="outline">
            <mat-label>Problema relatado pelo cliente</mat-label>
            <textarea matInput type="text" formControlName="problemAccordingCustomer"></textarea>
            <mat-error>
                <span>{{validatorMessages.required(formMain,'problemAccordingCustomer', 'Defeitos ')}}</span>
            </mat-error>
        </mat-form-field>
    </div>
    <div fxLayout="row" fxFlex>
        <mat-form-field fxFlex appearance="outline">
            <mat-label>Descrição Visual</mat-label>
            <textarea matInput type="text" formControlName="isPresentVisuallyDescription"></textarea>
            <mat-error>
                <span>{{validatorMessages.minMax(formMain,'isPresentVisuallyDescription', 'Descrição Visual ',1,1000)}}</span>
            </mat-error>
        </mat-form-field>
    </div>
    <div [fxLayout]="screenFieldPosition" (window:resize)="screen()" fxFlex="10" fxLayoutGap="50" fxLayoutAlign="center center">
        <mat-divider fxFlex></mat-divider>
        <div fxLayout="column" fxFlex="10" fxLayoutAlign="center center">
            <mat-label>Acessos</mat-label>
            <mat-checkbox fxLayoutAlign="start center" [checked]="true" (change)="dataAccessShowHideInput($event)" (change)="dataAccessValidator.requiredSetFiel(formMain, $event)">
            </mat-checkbox>
        </div>
        <div fxLayout="column" fxFlex="10" fxLayoutAlign="center center">
            <mat-label>Remoto</mat-label>
            <mat-checkbox formControlName="isRemote" fxLayoutAlign="start center">
            </mat-checkbox>
        </div>
        <mat-divider fxFlex></mat-divider>
    </div>
    <div class="middle-space-horizontal-beteween-fields"></div>
    <div fxLayout="row" *ngIf="this.dataAccess">
        <div fxLayout="column" fxFlex>
            <mat-form-field appearance="outline">
                <mat-label>Dados de acesso</mat-label>
                <textarea matInput type="text" formControlName="dataDescription"></textarea>
                <mat-error>
                    <span>{{validatorMessages.required(formMain,'dataDescription', 'Acessos (Usuário, senha etc...) ')}}</span>
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <div class="small-space-horizontal-beteween-fields"></div>
    <div fxLayout="row">
        <div fxLayout="column" style="font-weight:bolder; font-size: 22px;">
            {{'CUSTOS'}}
        </div>
        <div fxLayout="column" fxFlex style=" margin-top:10px;">
            <mat-divider fxFlex></mat-divider>
        </div>
    </div>
    <div class="middle-space-horizontal-beteween-fields"></div>
    <div fxLayout="row" fxFlex>
        <div [fxLayout]="screenFieldPosition" (window:resize)="screen()" [formGroup]="subForm" fxFlex fxLayoutGap="10" fxLayoutAlign="center center">
            <div fxLayout="column" fxFlex>
                <div style="font-size: 20px; color:red;" *ngIf="!this.formMain.get('customerId').value">
                    {{'Selecione um cliente no topo desta tela, por favor.'}}
                </div>
                <div class="middle-space-horizontal-beteween-fields"></div>
                <mat-form-field appearance="outline" *ngIf="this.formMain.get('customerId').value">
                    <mat-label>Tipo de custo</mat-label>
                    <mat-select formControlName="costFrom" (selectionChange)="paymentKindSelect($event)">
                        <mat-option *ngFor="let cost of costs.costsTypes | keyvalue" [value]="cost.value">
                            {{cost.key}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div fxLayout="column" *ngIf="hideShowPaymentKind" fxFlex>
                <div class="middle-space-horizontal-beteween-fields"></div>
                <mat-form-field fxFlex appearance="outline">
                    <mat-label>Preço Específico</mat-label>
                    <input matInput type="text" currencyMask formControlName="price">
                </mat-form-field>
            </div>
            <div fxLayout="column" fxLayoutAlign="center center" *ngIf="this.formMain.get('customerId').value" fxFlex>
                <mat-label #tooltip="matTooltip" [matTooltip]="messageTooltipNameOther" [matTooltipPosition]="matTooltip.positionRight.value" [matTooltipHideDelay]="matTooltip.matTooltipHideDelay" [matTooltipDisabled]="matTooltip.enableDisable">Coleta/Entrega</mat-label>
                <mat-checkbox formControlName="roundTrip" fxLayoutAlign="start center">
                </mat-checkbox>
            </div>
            <div>

            </div>
            <div fxLayout="column" fxLayoutAlign="center center" fxFlex>
                <div style="font-size: 30px; color:red;" fxLayout="row" *ngIf="this.formMain.get('customerId').value">
                    {{this.subForm.get('price').value | ptBrCurrency}}
                </div>
            </div>
        </div>
    </div>
    <mat-divider fxFlex></mat-divider>
</div>
<div fxLayout="row" fxLayoutAlign="center center">
    <button mat-raised-button class="save-btn" (click)="save()">Salvar</button>
</div>
<!-- <br>
<br>
<br>
<div fxLayout="row" fxLayoutAlign="center center">
    <button mat-raised-button class="save-btn" (click)="test()">Test</button>
</div> -->
<div class="border-around" fxLayout="row" fxLayoutAlign="center center">
    <!-- {{formMain.value | json}} -->
</div>