<div class="border-around" *ngIf="this.products$">
    <title-component [digit]="'|'" [titleString]="'Tipo de produto'" [icon]="'attach_money'">
    </title-component>
    <mat-card class="small-large-screen">
        <sub-title title [title]="'Cadastro'" [icon]="'add'"></sub-title>
        <!-- <div class="middle-space-horizontal-beteween-fields"> </div> -->

        <div class="container-main">
            <!-- Column LEFT -->
            <div class="column-above-left">
                <!-- product start-->
                <div class="mat-checkbox-add">
                    <mat-checkbox (change)="this.productCheckbox($event)">Adicionar Novo</mat-checkbox>
                </div>
                <add-update-product-get-mat-select-single *ngIf="!this.product" [formErrors]="formErrosValidation"
                    [products]="this.products$" [noEntriesFoundLabel]="noEntriesFoundLabel"
                    [placeholderProductType]="placeholderProductType"
                    [productTypeNameAttribute]="productTypeNameAttribute"
                    (outProductTypeSelected)="onSelectedProductType($event)">
                </add-update-product-get-mat-select-single>

                <add-update-product-input *ngIf="this.product" [formMain]="this.formMain"></add-update-product-input>
                <!-- product end-->

            </div>

            <div class="column-above-right">
                <!-- segment start-->
                <div *ngIf="formMain.get('id').value && !this.product">
                    <mat-checkbox class="mat-checkbox-add" (change)="this.segmentCheckbox($event)">Adicionar
                        Novo</mat-checkbox>
                </div>
                <div class="input-space" *ngIf="!formMain.get('id').value && this.product">
                </div>
                <!-- <div [class]="{
                    'input-space': this.product
                  }" *ngIf="!formMain.get('id').value && this.product">
                  </div> -->
                <add-update-segment-input *ngIf="this.segmentUpd" [formMain]="segmentForm"
                    [placeholderProductType]="placeholderProductType"
                    [productTypeNameAttribute]="productTypeNameAttribute"
                    (outSegmentSelected)="onSelectedSegment($event)">
                </add-update-segment-input>

                <add-update-segment-mat-select-single *ngIf="!this.segmentUpd && this.formMain.get('id').value != ''"
                    [formErrors]="formErrosValidation" [segments]="this.segments$"
                    [noEntriesFoundLabel]="noEntriesFoundLabel" [placeholderProductType]="placeholderProductType"
                    [productTypeNameAttribute]="productTypeNameAttribute"
                    (outSegmentSelected)="onSelectedSegment($event)">
                </add-update-segment-mat-select-single>

                <!-- segment end-->
            </div>

            <div class="column-below-left">
                <!-- manufacturer start-->
                <div *ngIf="this.manufacturers$ && !this.segmentUpd">
                    <mat-checkbox class="mat-checkbox-add" (change)="this.manufacturerCheckbox($event)">Adicionar
                        Novo</mat-checkbox>
                </div>

                <add-update-manufacturer-input *ngIf="this.manufacturerUpd" [formMain]="this.manufacturerForm"
                    [placeholderProductType]="placeholderProductType"
                    [productTypeNameAttribute]="productTypeNameAttribute"
                    (outManufacturerSelected)="onSelectedManufacturer($event)">
                </add-update-manufacturer-input>

                <add-update-manufacturer-mat-select-single *ngIf="!this.manufacturerUpd"
                    [formErrors]="formErrosValidation" [manufacturers]="this.manufacturers$"
                    [noEntriesFoundLabel]="noEntriesFoundLabel" [placeholderProductType]="placeholderProductType"
                    [productTypeNameAttribute]="productTypeNameAttribute"
                    (outManufacturerSelected)="onSelectedManufacturer($event)">
                </add-update-manufacturer-mat-select-single>
                <!-- manufacturer end-->
            </div>

            <div class="column-below-right">
                <!-- model start-->
                <div *ngIf="this.manufacturerForm.get('id').value > 0">
                    <mat-checkbox class="mat-checkbox-add" (change)="this.modelCheckbox($event)">Adicionar
                        Novo</mat-checkbox>
                </div>

                <div class="input-space" *ngIf="this.modelFieldeBottom">
                </div>

                <add-update-model-input *ngIf="this.modelUpd" [formMain]="modelForm"
                    [placeholderProductType]="placeholderProductType"
                    [productTypeNameAttribute]="productTypeNameAttribute" (outModelSelected)="onSelectedModel($event)">
                </add-update-model-input>

                <add-update-model-mat-select-single *ngIf="!this.modelUpd && this.manufacturerForm.get('id').value"
                    [formMain]="this.modelForm" [formErrors]="formErrosValidation" [models]="this.models$"
                    [noEntriesFoundLabel]="noEntriesFoundLabel" [placeholderProductType]="placeholderProductType"
                    [productTypeNameAttribute]="productTypeNameAttribute" (outModelSelected)="onSelectedModel($event)">
                </add-update-model-mat-select-single>
                <!-- model end-->
            </div>


            <div class="row-below-left-right">
                <model-description style="width: 100%;" [formMain]="this.modelForm" [hideShow]="description">
                </model-description>
            </div>

        </div>




        <div>{{formMain.value | json}}</div>
        [enableDisable]="saveBtnEnabledDisabled"
        <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="50px">
            <btn-g [name]="'Salvar'" [icon]="'save'" (btn)="save()"></btn-g>
        </div>
    </mat-card>
</div>